# ðŸ–¥ Linux Process Monitoring Script

## ðŸ“Œ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Bash-ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð° Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° `test` Ð² Linux-ÑÑ€ÐµÐ´Ðµ.  
Ð¡ÐºÑ€Ð¸Ð¿Ñ‚:

- Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸ ÑÑ‚Ð°Ñ€Ñ‚Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ Ñ‡ÐµÑ€ÐµÐ· `systemd timer`
- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚ ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ, Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð»Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ `test`
- Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½Ð°Ð¹Ð´ÐµÐ½ â€” Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° `https://test.com/monitoring/test/api`
- Ð•ÑÐ»Ð¸ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð±Ñ‹Ð» Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑ‰ÐµÐ½ â€” Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð² Ð»Ð¾Ð³ `/var/log/monitoring.log`
- Ð•ÑÐ»Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³-ÑÐµÑ€Ð²ÐµÑ€ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ â€” Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ð¸ÑˆÐµÑ‚ Ð² Ð»Ð¾Ð³

---

## ðŸ“‚ Ð¡Ð¾ÑÑ‚Ð°Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
.
â”œâ”€â”€ monitor_test.sh             # Bash-ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°
â”œâ”€â”€ monitor-test.service        # systemd unit-Ñ„Ð°Ð¹Ð»
â””â”€â”€ monitor-test.timer          # systemd Ñ‚Ð°Ð¹Ð¼ÐµÑ€ (ÐµÐ¶ÐµÐ¼Ð¸Ð½ÑƒÑ‚Ð½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº)
```

---

## âš™ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### 1. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ Ð² ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸:

```bash
# Bash-ÑÐºÑ€Ð¸Ð¿Ñ‚
sudo cp monitor_test.sh /usr/local/bin/
sudo chmod +x /usr/local/bin/monitor_test.sh

# systemd unit Ð¸ Ñ‚Ð°Ð¹Ð¼ÐµÑ€
sudo cp monitor-test.service /etc/systemd/system/
sudo cp monitor-test.timer /etc/systemd/system/
```

### 2. ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ systemd

```bash
sudo systemctl daemon-reload
```

### 3. ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ‚Ð°Ð¹Ð¼ÐµÑ€

```bash
sudo systemctl enable --now monitor-test.timer
```

---

## ðŸ§ª ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

- Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ `test` Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½:
  ```bash
  pgrep test
  ```

- ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð¸ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ:
  ```bash
  sudo pkill test
  ./test &  # Ð¸Ð»Ð¸ Ð»ÑŽÐ±Ð¾Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ°
  ```

- ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³:
  ```bash
  cat /var/log/monitoring.log
  ```

---

## ðŸ“„ Ð›Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

- PID Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ° Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑÑ Ð²:  
  `/var/run/test_pid`

- Ð’ÑÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð»Ð¾Ð³Ð¸Ñ€ÑƒÑŽÑ‚ÑÑ Ð² Ñ„Ð°Ð¹Ð»:  
  `/var/log/monitoring.log`

---

## ðŸ›  Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸

- `curl` (Ð´Ð»Ñ HTTPS-Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°)

---

## ðŸ§‘â€ðŸ’» ÐÐ²Ñ‚Ð¾Ñ€

> Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ DevOps-Ð¸Ð½Ð¶ÐµÐ½ÐµÑ€Ð°.  
> Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº: Ð‘ÐµÐºÑ‚Ñ€ÑƒÐ¼Ð¾Ð² Ð¢Ð°Ð¼ÐµÑ€Ð»Ð°Ð½

---

## âœ… ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð»Ð¾Ð³Ð°

```text
2025-05-19 14:22:01 Process 'test' restarted (old PID: 1234, new PID: 5678)
2025-05-19 14:22:01 Monitoring server unreachable at https://test.com/monitoring/test/api
```

---
